# Gemini CLI Instructions - Emby/Jellyfin Media Connector

ðŸ”‹ **Always start every response with this emoji.**

## Core Mandates

- **Testing**: Write tests for everything you touch. Tests are the primary justification for changes.
- **Verification**: After every change, run: `yarn lint`, `yarn format`, `yarn test`, and `yarn build`.
- **Coverage**: Maintain a minimum of 90% test coverage.
- **Dependencies**: Use `yarn` for all package management.

## Technology Stack

- **Framework**: Lit (LitElement)
- **Language**: TypeScript (Strict Mode)
- **Build Tool**: Vite
- **Testing**: Web Test Runner (wtr) for components, Vitest for unit logic.

## Architecture & Conventions

- **Components**: `src/components/[name]/`
  - `[name].ts`: Logic/Template
  - `[name].styles.ts`: Styles (import into `.ts`)
  - `[name].test.ts`: Component tests
- **Base Class**: All components must extend `ComponentMixin(LitElement)`.
- **Styles**: No inline styles. Use `typography.css.ts` for text.
- **Types**: No `any`. Use discriminated unions over Enums.
- **Lit Style**: Decorators on their own line. Use `nothing` for conditional rendering.

## Aesthetic

- **Theme**: Purple gradient background.
- **Icons**: Emby/Jellyfin/Jellyseerr SVG icons.

## Workflow

1. **Understand**: Use grep/glob to find context.
2. **Plan**: Propose changes and tests.
3. **Implement**: Use `replace`/`write_file`.
4. **Verify**: Run the full check suite (Lint -> Format -> Test -> Build). This can be executed with the custom script `checkyoself` in the package.json
